{% extends 'base.html' %}
{% load staticfiles %}

{% block style %}
<style>
 ol.list-group {
    list-style: decimal inside !important
}

ol li.list-group-item {
    display: list-item !important
}
</style>
{% endblock %}


{% block bottom %}{{ block.super }}
<script type="text/javascript" src="{% static 'vue/dist/vue.min.js' %}"></script>
<script type="text/javascript">
// https://jp.vuejs.org/v2/guide/#宣言的レンダリング
Vue.options.delimiters = ['{[{', '}]}'];        // Django テンプレートとバッティングしないように変更
Vue.component('article-item',{
    props: ['article'],
    template: '{% include "articles/article/article.html" %}'});

var app = new Vue({
  el: '#app',
  data: {
    message: 'Hello Vue!',
    enabled: false,
    todos: [
     { text: 'Learn JavaScript' },
     { text: 'Learn Vue' },
     { text: 'Build something awesome' }
   ],
   articles: [
     {content: 'content #1', id:1 },
     {content: 'content #2', id:2 },
     {content: 'content #3', id:3 }
   ]
 },
 methods: {
    reverseMessage: function () {
      this.message = this.message.split('').reverse().join('')
    }
  }
});


</script>
{% endblock %}

{% block content %}

<div id="app" class="panel panel-default">
  <div class="panel-heading">
    {[{ message }]}
  </div>

  <div class="panel-body">
    <ul class="list-group">
      {# https://jp.vuejs.org/v2/guide/conditional.html #}
      <li class="list-group-item" v-bind:title="message" v-if="enabled">
       Hover your mouse over me for a few seconds
       to see my dynamically bound title!
      </li>

      <li class="list-group-item" v-bind:title="message" v-else>
        <a href="#">Login</a>
      </li>
    </ul>

    {# https://jp.vuejs.org/v2/guide/list.html #}
    <ol class="list-group">
     <li v-for="todo in todos" class="list-group-item"> {[{ todo.text }]} </li>
    </ol>

    <ol class="list-group">
       <article-item v-for="i in articles" v-bind:article="i"></article-item>
    </ol>

  </div>

  <div class="panel-footer">
    <button v-on:click="reverseMessage" class="btn btn-primary">Reverse Message</button>
    <input v-model="message" class="form-control">
  </div>

</div>

{% endblock %}
